{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\OneDrive\\\\Documentos\\\\F1APP\\\\frontend\\\\src\\\\pages\\\\ClasificationPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\nimport Paper from '@mui/material/Paper';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport { useLeague } from '../context/LeagueContext';\nimport { useTheme } from '@mui/material/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ClasificationPage() {\n  _s();\n  const {\n    selectedLeague\n  } = useLeague();\n  const [classification, setClassification] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const theme = useTheme();\n  const playerId = Number(localStorage.getItem('player_id'));\n\n  // Fetch classification when selected league changes\n  useEffect(() => {\n    if (selectedLeague) {\n      fetchClassification();\n    } else {\n      setClassification([]);\n    }\n  }, [selectedLeague]);\n  const fetchClassification = async () => {\n    if (!selectedLeague) return;\n    setLoading(true);\n    setError('');\n    try {\n      const res = await fetch(`/api/leagues/${selectedLeague.id}/classification`);\n      const data = await res.json();\n      // Ordenar por puntos descendente y luego por money descendente\n      const sorted = (data.classification || []).sort((a, b) => b.points - a.points || b.money - a.money);\n      setClassification(sorted);\n    } catch (err) {\n      setError('Error loading classification');\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (!selectedLeague) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        padding: 2,\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"text.secondary\",\n        children: \"Selecciona una liga para ver la clasificaci\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      background: '#18192a',\n      minHeight: '100vh',\n      py: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      sx: {\n        color: '#fff',\n        fontWeight: 700,\n        mb: 2,\n        textAlign: 'center'\n      },\n      children: \"Clasificaci\\xF3n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      sx: {\n        background: 'transparent',\n        boxShadow: 'none',\n        maxWidth: 500,\n        mx: 'auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        children: /*#__PURE__*/_jsxDEV(TableBody, {\n          children: classification.map((player, idx) => {\n            var _player$money;\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              sx: {\n                background: player.player_id === playerId ? '#23243a' : 'rgba(255,255,255,0.03)',\n                borderRadius: 2,\n                mb: 1,\n                boxShadow: player.player_id === playerId ? '0 0 8px #FFD600' : 'none'\n              },\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"center\",\n                sx: {\n                  color: '#fff',\n                  fontWeight: 700,\n                  fontSize: 18,\n                  border: 0,\n                  width: 32\n                },\n                children: idx + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sx: {\n                  color: '#fff',\n                  border: 0\n                },\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    sx: {\n                      fontWeight: 700,\n                      fontSize: 16,\n                      color: '#fff'\n                    },\n                    children: player.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    sx: {\n                      fontWeight: 500,\n                      fontSize: 13,\n                      color: '#b0b0b0',\n                      mt: 0.5\n                    },\n                    children: (_player$money = player.money) === null || _player$money === void 0 ? void 0 : _player$money.toLocaleString('es-ES')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                align: \"right\",\n                sx: {\n                  color: '#FFD600',\n                  fontWeight: 700,\n                  fontSize: 18,\n                  border: 0,\n                  pr: 2\n                },\n                children: player.points\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this)]\n            }, player.player_id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(ClasificationPage, \"t/uYcbuQKhSm0yiYRKPN048nWQM=\", false, function () {\n  return [useLeague, useTheme];\n});\n_c = ClasificationPage;\nvar _c;\n$RefreshReg$(_c, \"ClasificationPage\");","map":{"version":3,"names":["React","useState","useEffect","Typography","Box","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","useLeague","useTheme","jsxDEV","_jsxDEV","ClasificationPage","_s","selectedLeague","classification","setClassification","loading","setLoading","error","setError","theme","playerId","Number","localStorage","getItem","fetchClassification","res","fetch","id","data","json","sorted","sort","a","b","points","money","err","sx","padding","textAlign","children","variant","color","fileName","_jsxFileName","lineNumber","columnNumber","background","minHeight","py","fontWeight","mb","component","boxShadow","maxWidth","mx","map","player","idx","_player$money","player_id","borderRadius","align","fontSize","border","width","name","mt","toLocaleString","pr","_c","$RefreshReg$"],"sources":["C:/Users/User/OneDrive/Documentos/F1APP/frontend/src/pages/ClasificationPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Typography from '@mui/material/Typography';\r\nimport Box from '@mui/material/Box';\r\nimport Paper from '@mui/material/Paper';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport { useLeague } from '../context/LeagueContext';\r\nimport { useTheme } from '@mui/material/styles';\r\n\r\nexport default function ClasificationPage() {\r\n  const { selectedLeague } = useLeague();\r\n  const [classification, setClassification] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const theme = useTheme();\r\n  const playerId = Number(localStorage.getItem('player_id'));\r\n\r\n  // Fetch classification when selected league changes\r\n  useEffect(() => {\r\n    if (selectedLeague) {\r\n      fetchClassification();\r\n    } else {\r\n      setClassification([]);\r\n    }\r\n  }, [selectedLeague]);\r\n\r\n  const fetchClassification = async () => {\r\n    if (!selectedLeague) return;\r\n    \r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const res = await fetch(`/api/leagues/${selectedLeague.id}/classification`);\r\n      const data = await res.json();\r\n      // Ordenar por puntos descendente y luego por money descendente\r\n      const sorted = (data.classification || []).sort((a, b) => b.points - a.points || b.money - a.money);\r\n      setClassification(sorted);\r\n    } catch (err) {\r\n      setError('Error loading classification');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (!selectedLeague) {\r\n    return (\r\n      <Box sx={{ padding: 2, textAlign: 'center' }}>\r\n        <Typography variant=\"h6\" color=\"text.secondary\">\r\n          Selecciona una liga para ver la clasificación\r\n        </Typography>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ background: '#18192a', minHeight: '100vh', py: 2 }}>\r\n      <Typography variant=\"h5\" sx={{ color: '#fff', fontWeight: 700, mb: 2, textAlign: 'center' }}>\r\n        Clasificación\r\n      </Typography>\r\n      <TableContainer component={Paper} sx={{ background: 'transparent', boxShadow: 'none', maxWidth: 500, mx: 'auto' }}>\r\n        <Table>\r\n          <TableBody>\r\n            {classification.map((player, idx) => (\r\n              <TableRow\r\n                key={player.player_id}\r\n                sx={{\r\n                  background: player.player_id === playerId ? '#23243a' : 'rgba(255,255,255,0.03)',\r\n                  borderRadius: 2,\r\n                  mb: 1,\r\n                  boxShadow: player.player_id === playerId ? '0 0 8px #FFD600' : 'none',\r\n                }}\r\n              >\r\n                {/* Posición */}\r\n                <TableCell align=\"center\" sx={{ color: '#fff', fontWeight: 700, fontSize: 18, border: 0, width: 32 }}>\r\n                  {idx + 1}\r\n                </TableCell>\r\n                {/* Nombre y valor de equipo */}\r\n                <TableCell sx={{ color: '#fff', border: 0 }}>\r\n                  <Box>\r\n                    <Typography sx={{ fontWeight: 700, fontSize: 16, color: '#fff' }}>{player.name}</Typography>\r\n                    <Typography sx={{ fontWeight: 500, fontSize: 13, color: '#b0b0b0', mt: 0.5 }}>\r\n                      {player.money?.toLocaleString('es-ES')}\r\n                    </Typography>\r\n                  </Box>\r\n                </TableCell>\r\n                {/* Puntos a la derecha */}\r\n                <TableCell align=\"right\" sx={{ color: '#FFD600', fontWeight: 700, fontSize: 18, border: 0, pr: 2 }}>\r\n                  {player.points}\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </Box>\r\n  );\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}